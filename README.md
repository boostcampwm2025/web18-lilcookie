# Team Stash

[í™ˆí˜ì´ì§€](https://docs.teamstash.eupthere.uk)

[ëŒ€ì‹œë³´ë“œ](https://app.teamstash.eupthere.uk)

[íŒŒì´ì–´í­ìŠ¤ ì• ë“œì˜¨](https://addons.mozilla.org/ko/firefox/addon/teamstash/?utm_content=addons-manager-reviews-link&utm_medium=firefox-browser&utm_source=firefox-browser)

[ë¶€ìŠ¤íŠ¸ìº í”„ íŒ€ í”„ë¡œì íŠ¸ ìµœì¢… ë°œí‘œ PPT ìë£Œ](https://github.com/user-attachments/files/25141675/lilcookie-week7.pdf)

TeamstashëŠ” íŒ€ì˜ ë¶ë§ˆí¬ë¥¼ í•œ ê³³ì— ëª¨ìœ¼ê³ , ê°ì¢… í˜‘ì—… ë„êµ¬ì— ì—°ê²°í•˜ëŠ” ì €ì¥ì†Œì…ë‹ˆë‹¤. Webhook ì•Œë¦¼, OAuth2.0 ìì› ì¸ê°€, OIDC1.0 ì¸ì¦ì„ ì§€ì›í•©ë‹ˆë‹¤. n8nì— ì—°ê²°í•˜ì—¬ ì›Œí¬í”Œë¡œìš°ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

https://github.com/user-attachments/assets/c3df09bc-d69c-4263-80c4-af6e89b5e62d

### **ğŸ“– í”„ë¡œì íŠ¸ ì†Œê°œ**

**ë¬¸ì œ ì •ì˜**: íŒ€ì— ê³µìœ í•œ ì§€ì‹ì´ íœ˜ë°œëœë‹¤. Slack ë©”ì‹œì§€ì— ë¬»í˜€ ë‹¤ì‹œ ì°¾ê¸° ì–´ë ¤ìš´ ì •ë³´, ì—¬ëŸ¬ í˜‘ì—… ë„êµ¬ì— íŒŒí¸í™” ë˜ì–´ ì €ì¥ë˜ëŠ” ìë£Œë“¤.

**í•µì‹¬ ê¸°ëŠ¥**: ë¶ë§ˆí¬ë¥¼ ì‰½ê²Œ í•œ ê³³ì— ëª¨ì€ë‹¤. ëª¨ì€ ìë£Œë¥¼ ë‹¤ì–‘í•œ í˜‘ì—… ì›Œí¬í”Œë¡œìš°ë¡œ í™œìš©í•œë‹¤.

**ì´ˆê¸° í”„ë¡œí† íƒ€ì… MVP**: 3ë²ˆì˜ í´ë¦­ìœ¼ë¡œ íŒ€ ì €ì¥ì†Œì— ë¶ë§ˆí¬ë¥¼ ì €ì¥í•  ìˆ˜ ìˆëŠ” í¬ë¡¬ í™•ì¥ í”„ë¡œê·¸ë¨.

**í”„ë¡œí† íƒ€ì… ì‚¬ìš©ì í…ŒìŠ¤íŠ¸ ê²°ê³¼**: ìë£Œë¥¼ ì‰½ê²Œ ëª¨ìœ¼ëŠ” ê²ƒì—ëŠ” ì„±ê³µí–ˆì§€ë§Œ, ì–´ë–»ê²Œ í™œìš©í•  ì§€ì— ëŒ€í•œ ê¸°íš í™•ì¥ì´ í•„ìš”í•˜ë‹¤ëŠ” ì¸ì‚¬ì´íŠ¸ ì–»ìŒ. ê° íŒ€ë§ˆë‹¤ ìë£Œë¥¼ êµ¬ì¡°í™” í•˜ê³  í™œìš©í•˜ëŠ” ë°©ì‹ì´ ë‹¤ë¥´ë‹¤ëŠ” ê²ƒ ë°œê²¬. 

**ê¸°íš í™•ì¥ ìš”êµ¬ì‚¬í•­**: 
- í‘œì¤€í™”ëœ ë°©ì‹ìœ¼ë¡œ ì™¸ë¶€ ì„œë¹„ìŠ¤ì— ì—°ê²°í•  ìˆ˜ ìˆë‹¤ (OAuth, OIDC).
- n8nìœ¼ë¡œ ì›Œí¬í”Œë¡œìš°ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.
- ì™¸ë¶€ ê°œë°œìê°€ 3rd party í”ŒëŸ¬ê·¸ì¸ì„ ë§Œë“¤ì–´ teamstash ì €ì¥ì†Œì— ì—°ê²°í•  ìˆ˜ ìˆë‹¤.
- íŒ€ ìì›ì˜ ì ‘ê·¼ ê¶Œí•œì„ ì„¤ì •í•˜ê³  ë³´í˜¸í•  ìˆ˜ ìˆë‹¤.

## ì‹œì‘í•˜ê¸°

### ê°œë°œ í™˜ê²½ êµ¬ì„±

#### ìš”êµ¬ì‚¬í•­
- Node.js 22
- Docker
- Terraform Client

```shell
pnpm i
# í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ ì‘ì„±
# apps/backend/.env.sample
# infra/terraform/secret.auto.tfvars
# infra/docker/.env.development.local
pnpm --filter backend prisma:generate
pnpm run docker:dev:up
# https://auth.localhost Authentik ì„œë²„ ì´ˆê¸°í™” ì™„ë£Œ í™•ì¸
cd ./infra/terraform
terraform init
terraform apply
cd ../..
pnpm dev
```

[Windows OS localhost hostname ì„¤ì •](https://github.com/boostcampwm2025/web18-lilcookie/issues/142)

### ë°°í¬ ì¸í”„ë¼ ì•„í‚¤í…ì²˜

<img width="2480" height="1646" alt="image" src="https://github.com/user-attachments/assets/b0b735ef-d372-4c51-9b22-b4308549e633" />

### ê°œë°œ ì„œë²„ ì‹¤í–‰ ë°©ë²•

## ê°œë°œìš© ì¸í”„ë¼ Docker Compose

`./infra/docker/.env.development.local` ì‘ì„±

`pnpm run docker:dev:up`
`pnpm run docker:dev:down`
`pnpm run docker:dev:logs`

## Terraform

1. [Terraform ì„¤ì¹˜](https://developer.hashicorp.com/terraform/install)
2. ê°œë°œìš© ì¸í”„ë¼ ì •ìƒ ë™ì‘ í™•ì¸ (https://auth.localhost ì—°ê²° ì‹œ Authentik ì •ìƒ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸)
3. `cd infra/terraform`
4. `terraform init` : terraform ì´ˆê¸°í™”
5. `terraform plan` : ì–´ë–¤ ì‘ì—…ì„ ì‹¤í–‰í•  ê²ƒì¸ì§€ ë¯¸ë¦¬ í™•ì¸
6. `terraform apply` : ì‘ì—… ë°˜ì˜ (yes íƒ€ì´í•‘ í•„ìš”)

## Frontend, backend

ê°œë°œ ê³¼ì •ì—ì„œ HMRì„ ìœ„í•´ docker composeì— í¬í•¨í•˜ì§€ ì•ŠìŒ.

1. í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ `pnpm run start:dev`
2. ë°±ì—”ë“œ: ë¸Œë¼ìš°ì €ì—ì„œ `https://api.localhost/health` ì ‘ì† ì‹œë„
3. í”„ë¡ íŠ¸ì—”ë“œ: ë¸Œë¼ìš°ì €ì—ì„œ `https://app.localhost` ì ‘ì† ì‹œë„

## ê°œë°œ í™˜ê²½ TLS ì¸ì¦ì„œ

### ìœˆë„ìš°10 ê¸°ì¤€ ì¸ì¦ì„œ ì„¸íŒ…ë²•:
`web18-lilcookie\infra\caddy\data\caddy\pki\authorities\local\root.crt` ìš°í´ë¦­ -> ì¸ì¦ì„œ ì„¤ì¹˜ -> ì €ì¥ì†Œ ìœ„ì¹˜(ë¡œì»¬ ì»´í“¨í„°) -> ëª¨ë“  ì¸ì¦ì„œë¥¼ ë‹¤ìŒ ìœ„ì¹˜ì— ì €ì¥ -> ì°¾ì•„ë³´ê¸° -> ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë£¨íŠ¸ ê¸°ê´€ -> ë‹¤ìŒë‹¤ìŒ -> END

### MacOS ê¸°ë°˜ ì¸ì¦ì„œ ì„¸íŒ… ë°©ë²•
`web18-lilcookie/infra/caddy/data/caddy/pki/authorities/local/root.crt` ë”ë¸” í´ë¦­ â†’ Keychain Accessì— ì¸ì¦ì„œ ì„¤ì¹˜ëœ ê²ƒ í™•ì¸ (ê´€ë¦¬ì ì¸ì¦) â†’ Caddy Local Authority ìš°í´ë¦­ â†’ get info â†’ Trust â†’ When using this certificate: Always Trust (ê´€ë¦¬ì ì¸ì¦)

### íŒ€ì†Œê°œ

> lil cookieğŸªÂ - ì¿ í‚¤ëŠ” ë§›ìˆëŠ” ë°ì´í„° ì¡°ê°ì…ë‹ˆë‹¤. ìš°ë¦¬ì˜ ì¿ í‚¤ê°€ ì‚¬ìš©ìì—ê²Œ ì¦ê±°ìš´ ì‹œê°„ì„ ì£¼ì—ˆìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.

| J123\_ë°•ì¤€í˜¸                                                    | J193\_ì´ìˆ˜ì§„                                                     | J204\_ì´ìœ¤í‘œ                                                    | J243\_ì •ì•„í˜„                                                    |
| --------------------------------------------------------------- | ---------------------------------------------------------------- | --------------------------------------------------------------- | --------------------------------------------------------------- |
| ![ë°•ì¤€í˜¸](https://avatars.githubusercontent.com/u/32813311?v=4) | ![ì´ìˆ˜ì§„](https://avatars.githubusercontent.com/u/182627132?v=4) | ![ì´ìœ¤í‘œ](https://avatars.githubusercontent.com/u/30365108?v=4) | ![ì •ì•„í˜„](https://avatars.githubusercontent.com/u/97656991?v=4) |

