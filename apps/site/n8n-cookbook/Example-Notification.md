# π”” [Lv.1] λ§ν¬ μ €μ¥ μ‹ μ¬λ™ & λ©”μΌ μ‹¤μ‹κ°„ μ•λ¦Ό

> [!IMPORTANT]
>
> μ΄ κ°€μ΄λ“μ—μ„λ” μ°λ¦¬ μ„λΉ„μ¤μ— λ§ν¬κ°€ μ¶”κ°€λλ” μκ°„μ„ κ°μ§€ν•΄μ„, μ§€μ •ν• μ¬λ™ μ±„λ„κ³Ό μ΄λ©”μΌλ΅ μƒμ„Έ μ •λ³΄λ¥Ό μ „μ†΅ν•λ” μ›ν¬ν”λ΅μ°λ¥Ό λ§λ“­λ‹λ‹¤.
>
> μµλ€ν• n8nμ κΈ°λ³Έ λ…Έλ“λ§μ„ μ‚¬μ©ν•μ—¬ κµ¬ν„ν•λ” λ°©λ²•μ„ μ•λ‚΄λ“λ¦¬λ©°, μƒν™©μ— λ”°λΌ μ»¤μ¤ν…€ μ¤ν¬λ¦½νΈλ‚ μ¶”κ°€ λ…Έλ“κ°€ ν•„μ”ν•  μ μμµλ‹λ‹¤.
>
> μƒλµλ μ •λ³΄λ„ μμΌλ©°, n8nμ λ¬λ‹μ»¤λΈκ°€ μμ„ μ μμΌλ‹, μµμ™ν•μ§€ μ•μ€ κ°λ°μ λ¶„λ“¤μ€ μ¶©λ¶„ν• ν•™μµμ΄λ‚ ν…μ¤νΈ ν›„ μ μ©ν•μ‹κΈΈ κ¶μ¥λ“λ¦½λ‹λ‹¤.
>
> λ³Έ κ°€μ΄λ“λ” n8n λ²„μ „ `1.115.3`λ¥Ό κΈ°μ¤€μΌλ΅ μ‘μ„±λμ—μµλ‹λ‹¤.

---

## 1. n8n μ›ν¬ν”λ΅μ° κµ¬μ„±

<img width="638" height="183" alt="image" src="https://github.com/user-attachments/assets/54afd23e-6022-455f-a8fe-e1d9a762c4d5" />

- **Webhook Node** (νΈλ¦¬κ±°) β†’ **Slack Node** (μ•λ¦Ό) β†’ **Gmail Node** (μ•λ¦Ό)

---

## 2. μƒμ„Έ μ„¤μ • λ‹¨κ³„

### **Step 1: n8nμ—μ„ Webhook URL μƒμ„± λ° μ„λΉ„μ¤ λ“±λ΅**

![ex2](https://github.com/user-attachments/assets/0e5ff9e4-3aaa-4d12-8168-761f7393cd89)

<img width="399" height="675" alt="image" src="https://github.com/user-attachments/assets/7cfc0f57-2ed3-48c4-a384-c08d1bbc9f1d" />

1. n8nμ—μ„ **Webhook** λ…Έλ“λ¥Ό μ¶”κ°€ν•κ³  **HTTP Method**λ¥Ό `POST`λ΅ μ„¤μ •ν•©λ‹λ‹¤.
2. μƒμ„±λ **Production Webhook URL**μ„ λ³µμ‚¬ν•©λ‹λ‹¤.
3. **[μ°λ¦¬ μ„λΉ„μ¤ -> ν€ μ„¤μ • -> μ›Ήν›… κ΄€λ¦¬]** νμ΄μ§€λ΅ μ΄λ™ν•μ—¬ λ³µμ‚¬ν• URLμ„ λ¶™μ—¬λ„£κ³  **ν™μ„±ν™” μƒνƒλ¥Ό 'ON'** μΌλ΅ λ³€κ²½ν•©λ‹λ‹¤. (μ΄ μ„¤μ •μ„ ν•΄μ•Ό λ°μ΄ν„°κ°€ μ „μ†΅λ©λ‹λ‹¤.)

---

### **Step 2: μ¬λ™ μ•λ¦Ό λ©”μ‹μ§€ μ„¤μ •**

<img width="515" height="739" alt="image" src="https://github.com/user-attachments/assets/02f96912-e6ec-45e0-b3cd-689d1ff4da39" />

μ΄μ  μ°λ¦¬λ” μ¬λ™ λ…Έλ“λ¥Ό μ¶”κ°€ν•μ—¬, μƒλ΅μ΄ λ§ν¬κ°€ μ €μ¥λ  λ•λ§λ‹¤ μ•λ¦Όμ„ λ³΄λ‚΄λ„λ΅ μ„¤μ •ν•  κ²ƒμ…λ‹λ‹¤.

1. Step 1μ—μ„ μƒμ„±ν• Webhook λ…Έλ“μ— μ΄μ–΄μ„ **Slack** λ…Έλ“λ¥Ό μ¶”κ°€ν•©λ‹λ‹¤.
2. μ¬λ™ λ…Έλ“μ—μ„ λ―Έλ¦¬ μƒμ„±ν• μ¬λ™ ν¬λ λ΄μ…μ„ μ„ νƒν•©λ‹λ‹¤.
3. **Resource**λ” `Message`λ΅, **Operation**μ€ `Send`λ΅, **Send Message To**λ” `Channel`λ΅ μ„¤μ •ν•©λ‹λ‹¤.
4. **Channel** ν•„λ“λ” `By ID`λ΅ μ„¤μ •ν•κ³ , μ•λ¦Όμ„ λ°›μ„ μ¬λ™ μ±„λ„μ IDλ¥Ό μ…λ ¥ν•©λ‹λ‹¤.
   - μ±„λ„ IDλ” μ¬λ™μ—μ„ ν•΄λ‹Ή μ±„λ„ μ°ν΄λ¦­ -> μ±„λ„ μ„Έλ¶€ μ •λ³΄ λ³΄κΈ° -> ν•λ‹¨ μ±„λ„ IDμ—μ„ ν™•μΈν•  μ μμµλ‹λ‹¤. (μ: `C01234567AB`)
   - μ°Έκ³ : νΌλΈ”λ¦­ μ±„λ„μ€ `#general`κ³Ό κ°™μ€ μ΄λ¦„μΌλ΅λ„ μ§€μ •ν•  μ μμ§€λ§, ν”„λΌμ΄λΉ— μ±„λ„μ€ λ°λ“μ‹ IDλ΅ μ§€μ •ν•΄μ•Ό ν•©λ‹λ‹¤.
5. **Message Text** ν•„λ“μ— μ•„λμ κµ¬μ΅°ν™”λ ν…μ¤νΈλ¥Ό λ³µμ‚¬ν•μ—¬ λ„£μΌμ„Έμ”.
6. μ•„λλ” μμ‹ λ©”μ‹μ§€ ν…ν”λ¦Ώμ…λ‹λ‹¤:

   ```text
   π€ *μƒλ΅μ΄ λ§ν¬κ°€ μ¶”κ°€λμ—μµλ‹λ‹¤!*

   π“ *μ λ©*: {{ $json.body.data.title }}
   π”— *URL*: {{ $json.body.data.url }}
   π“‚ *μ„μΉ*: {{ $json.body.data.teamName }} > {{ $json.body.data.folderName }}
   π·οΈ *νƒκ·Έ*: {{ $json.body.data.tags.join(', ') }}

   π“ *μ”μ•½*:
   > {{ $json.body.data.summary }}

   π‘¤ *μ €μ¥ν• μ‚¬λ*: {{ $json.body.data.createdBy.nickname }}
   ```

7. μ„¤μ •μ„ λ§μΉ ν›„, λ…Έλ“λ¥Ό μ €μ¥ν•©λ‹λ‹¤.

---

### **Step 3: μ§€λ©”μΌ(Gmail) μ•λ¦Ό μ„¤μ •**

<img width="516" height="761" alt="image" src="https://github.com/user-attachments/assets/4c806610-ee49-4844-8090-0935fbad517e" />

1. Slack λ…Έλ“ λ‹¤μμ— **Gmail** λ…Έλ“λ¥Ό μ¶”κ°€ν•©λ‹λ‹¤.
2. μ§€λ©”μΌ λ…Έλ“μ—μ„ λ―Έλ¦¬ μƒμ„±ν• μ§€λ©”μΌ ν¬λ λ΄μ…μ„ μ„ νƒν•©λ‹λ‹¤.

- μ§€λ©”μΌ ν¬λ λ΄μ… μƒμ„± μ‹ OAuth2 μΈμ¦ λ°©μ‹μ„ μ‚¬μ©ν•΄μ•Ό ν•©λ‹λ‹¤. (μΌλ° SMTP λ°©μ‹μ€ λ³΄μ• λ¬Έμ λ΅ μΈν•΄ κ¶μ¥λμ§€ μ•μµλ‹λ‹¤.)
- μ§€λ©”μΌ ν¬λ λ΄μ… μƒμ„± λ°©λ²•μ€ κ°μΆ… κ³µμ‹ λ¬Έμ„λ‚ κ°€μ΄λ“λ¥Ό μ°Έκ³ ν•μ„Έμ”.

3. **Resource**λ” `Message`λ΅, **Operation**μ€ `Send`λ΅ μ„¤μ •ν•©λ‹λ‹¤.
4. **To** ν•„λ“μ— μ•λ¦Όμ„ λ°›μ„ μ΄λ©”μΌ μ£Όμ†λ¥Ό μ…λ ¥ν•©λ‹λ‹¤.
5. **Subject** ν•„λ“λ” μ›ν•λ” μ λ©μΌλ΅ μ„¤μ •ν•©λ‹λ‹¤. μ: `[Lilcookie] μ‹ κ· λ§ν¬ μ €μ¥ μ•λ¦Ό`
6. **Email Type**μ€ `Text`λ΅ μ„¤μ •ν•©λ‹λ‹¤.
7. **Message** ν•„λ“μ— μ•„λμ κµ¬μ΅°ν™”λ ν…μ¤νΈλ¥Ό λ³µμ‚¬ν•μ—¬ λ„£μΌμ„Έμ”.

   ```text
   [Lilcookie] μ‹ κ· λ§ν¬ μ €μ¥ μ•λ¦Ό

   μ°λ¦¬ μ„λΉ„μ¤μ— μƒλ΅μ΄ μ§€μ‹μ΄ μ €μ¥λμ–΄ μ•λ‚΄λ“λ¦½λ‹λ‹¤.

   --------------------------------------------------
   π“‘ μ €μ¥ μ •λ³΄ μƒμ„Έ
   --------------------------------------------------

   β–  μ λ©: {{ $('μ›Ήν›…').item.json.body.data.title }}
   β–  λ§ν¬: {{ $('μ›Ήν›…').item.json.body.data.url }}
   β–  ν€/ν΄λ”: {{ $('μ›Ήν›…').item.json.body.data.teamName }} / {{ $('μ›Ήν›…').item.json.body.data.folderName }}
   β–  νƒκ·Έ: {{ $('μ›Ήν›…').item.json.body.data.tags.join(', ') }}

   [μ”μ•½ λ‚΄μ©]
   {{ $('μ›Ήν›…').item.json.body.data.summary }}

   --------------------------------------------------
   μ¶”κ°€λ λ§ν¬μ μƒμ„Έ λ‚΄μ©μ€ μ„λΉ„μ¤μ—μ„ ν™•μΈν•μ‹¤ μ μμµλ‹λ‹¤.
   μ €μ¥ μ‹κ°„: {{ $('μ›Ήν›…').item.json.body.timestamp }}

   ```

8. μ„¤μ •μ„ λ§μΉ ν›„, λ…Έλ“λ¥Ό μ €μ¥ν•©λ‹λ‹¤.

---

## 3. ν…μ¤νΈ λ° ν™μ„±ν™”

1. n8n μƒλ‹¨μ **Execute Workflow**λ¥Ό ν΄λ¦­ν•©λ‹λ‹¤.
2. μ°λ¦¬ μ„λΉ„μ¤(μ›Ή/μµμ¤ν…μ…)μ—μ„ λ§ν¬λ¥Ό μ €μ¥ν•©λ‹λ‹¤.
3. μ¬λ™ λ©”μ‹μ§€μ™€ μ§€λ©”μΌμ΄ μ„ μ–‘μ‹λ€λ΅ μμκ² λ„μ°©ν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤!

---

## 4. κ²°κ³Ό μμ‹

- μ „λ‹¬λ μ¬λ™ λ©”μ‹μ§€ μμ‹:

<img width="401" height="288" alt="image" src="https://github.com/user-attachments/assets/afc2af44-c417-41c8-aa7a-3880af12d88d" />

- μ „λ‹¬λ μ§€λ©”μΌ μμ‹:

<img width="418" height="674" alt="image" src="https://github.com/user-attachments/assets/6e2d8df8-3bb3-461d-9b83-dc00b93fb76d" />

## π“ λ°μ΄ν„° κµ¬μ΅° μ°Έκ³ 

μ›Ήν›…μΌλ΅ λ„μ–΄μ¤λ” λ” μμ„Έν• νμ΄λ΅λ“ μ •λ³΄λ” μ•„λ λ νΌλ°μ¤λ¥Ό ν™•μΈν•μ„Έμ”.

π‘‰ [API Reference: μ›Ήν›… μ΄λ²¤νΈ νμ΄λ΅λ“](https://github.com/boostcampwm2025/web18-lilcookie/wiki/API-Reference#%EC%9B%B9%ED%9B%85-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%ED%8E%98%EC%9D%B4%EB%A1%9C%EB%93%9C)

## κµ¬μ„±λ n8n μ›ν¬ν”λ΅μ° νμΌ

- [Exam_Notification_n8n.json](https://github.com/user-attachments/files/25022849/Exam_Notification_n8n.json)
- μ„ λ§ν¬λ¥Ό ν΄λ¦­ν•μ—¬ μ›ν¬ν”λ΅μ° JSON νμΌμ„ λ‹¤μ΄λ΅λ“ν• ν›„, n8nμ—μ„ κ°€μ Έμ¤κΈ°(import)ν•μ—¬ μ‚¬μ©ν•μ„Έμ”.